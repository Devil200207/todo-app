<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel= "stylesheet" type= "text/css" href="/css/index.css">
    <script src="https://kit.fontawesome.com/63e49ec91e.js" crossorigin="anonymous"></script>
    <meta name="viewport" content="width= device-width, initial-scale=1">
  </head>

  <body>
    <h1 id="heading">TODO App</h1>
    <hr id="hr-1">
   
    <form action="/create-task" method="POST" id="form-1">
        <section id="section-1">
            <div id="inp">

                <label for="textarea-1">DESCRIPTION</label><br>
                <textarea id="textarea-1" placeholder="What do you need to do?" name="Description"></textarea>

            </div>
        </section>

        <hr>

        <section id="section-2">
           
            <div id="selection-form">
                <label for="selection-1">Category</label><br>
                <select class="form-select" id="sec-1" aria-label="Choose a category" name="Category" required>
                    <option selected value="Other">Choose a Category</option>
                    <option value="Personal">Personal</option>
                    <option value="Work">Work</option>
                    <option value="School">School</option>
                    <option value="Cleaning">Cleaning</option>
                    <option value="Other">Other</option>
                </select>

            </div>
 
            <div class="vertical-line"></div>
             
            <div id="date-pic">
                <label for="my_date_picker">due date</label><br>
                <input type="date" id="my_date_picker" placeholder="Due Date" name="DDate">
            </div>
        </section>

        <hr id="hr-2">

        <section id="add-del-but">

            <button type="submit"><i class="fa-solid fa-plus"></i> ADD TASK</button>
            <!-- <button type="submit"><i class="fa-solid fa-trash-can"></i> DELETE TASKS</button> -->

        </section>

    </form>

     <form action="" method="get" id="form-2">
        <%let count = 0; for(let i of task){%>
        <div>
            <hr>
            <div id="info-dis">
                <div id="m-info">
                    <label for="<%=i.Description%>" id="dis-view">
                        <%=i.Description%>
                    </label>
                    <div class="logo btn position-absolute btn-primary disabled" id="cat-but">
                        <%=i.Category%>
                    </div>
                    <div id="del-but">
                        <a href="/delete-but/?id=<%=i._id%>">
                            <i class="fa-solid fa-trash-can"></i>
                        </a>
                    </div>
                </div>
                <div id="d-t-dis">
                    <i class="fas fa-calendar-alt"></i>
                     <%if(i.DDate==null){%>
                    <%="No Deadline"%> <%}else{%> <%=i.DDate%> <%}%>
                </div>
            </div>
        </div>
        <%count++;}%>
         
        <hr>

        <div>
            <h3>Total task left to be done: <span id="cnt"><%=count%></span></h3>
        </div>
    </form>
        

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="jquery-3.6.0.js"></script>
    <!-- <script src=  ></script> -->
  </body>
</html>
